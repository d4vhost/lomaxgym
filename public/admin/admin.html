<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel de Administración - Lomax Fitness</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="./admin.css">
    <link rel="icon" href="../img/pesa.png" type="image/x-icon" />
</head>
<body>
    <div class="admin-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="admin-header">
                <div class="admin-logo">
                    <i class="fas fa-crown"></i>
                </div>
                <h2 class="admin-title">Panel Admin</h2>
                <p class="admin-subtitle" id="adminName">Administrador</p>
            </div>

            <nav>
                <ul class="nav-menu">
                    <li class="nav-item">
                        <a href="#" class="nav-link active" data-section="dashboard">
                            <i class="fas fa-tachometer-alt"></i>
                            Dashboard
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" data-section="usuarios">
                            <i class="fas fa-users"></i>
                            Gestión de Usuarios
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" data-section="membresias">
                            <i class="fas fa-id-card"></i>
                            Membresías
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" data-section="instalaciones">
                            <i class="fas fa-building"></i>
                            Instalaciones
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" data-section="reportes">
                            <i class="fas fa-chart-bar"></i>
                            Reportes
                        </a>
                    </li>
                </ul>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Top Bar -->
            <div class="top-bar">
                <div class="welcome-text">
                    <h1>Panel de Administración</h1>
                    <p>Gestiona tu gimnasio desde aquí</p>
                </div>
                <div class="admin-actions">
                    <button class="btn btn-logout" onclick="cerrarSesion()">
                        <i class="fas fa-sign-out-alt"></i>
                        Cerrar Sesión
                    </button>
                </div>
            </div>

            <!-- Dashboard Section -->
            <section id="dashboard" class="content-section active">
                <div class="dashboard-stats">
                    <div class="stat-card">
                        <div class="stat-content">
                            <div class="stat-number" id="totalUsuarios">0</div>
                            <div class="stat-label">Total Usuarios</div>
                        </div>
                        <div class="stat-icon">
                            <i class="fas fa-users"></i>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-content">
                            <div class="stat-number" id="usuariosActivos">0</div>
                            <div class="stat-label">Usuarios Activos</div>
                        </div>
                        <div class="stat-icon">
                            <i class="fas fa-user-check"></i>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-content">
                            <div class="stat-number" id="totalMembresias">0</div>
                            <div class="stat-label">Membresías Activas</div>
                        </div>
                        <div class="stat-icon">
                            <i class="fas fa-id-card"></i>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-content">
                            <div class="stat-number" id="ingresosMes">$0</div>
                            <div class="stat-label">Ingresos del Mes</div>
                        </div>
                        <div class="stat-icon">
                            <i class="fas fa-dollar-sign"></i>
                        </div>
                    </div>
                </div>

                <div class="dashboard-charts">
                    <div class="chart-container">
                        <h3>Distribución por Tipo de Membresía</h3>
                        <div class="membership-stats" id="membershipStats">
                            <!-- Los datos se cargarán desde admin.js -->
                        </div>
                    </div>

                    <div class="chart-container">
                        <div class="chart-header">
                            <h3>Instalaciones</h3>
                            <span class="chart-subtitle">Capacidad</span>
                        </div>
                        <div class="installations-stats" id="installationsStats">
                            <!-- Los datos se cargarán desde admin.js -->
                        </div>
                    </div>
                </div>
            </section>

            <!-- Usuarios Section -->
           <section id="usuarios" class="content-section">
                <div class="section-header">
                    <h2>Gestión de Usuarios</h2>
                    <!-- Se eliminó el botón "Nuevo Usuario" -->
                </div>
                
                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Cédula</th>
                                <th>Nombre Completo</th>
                                <th>Email</th>
                                <th>Sexo</th>
                                <th>Estado</th>
                                <th>Fecha Registro</th>
                                <!-- Se eliminó la columna "Acciones" -->
                            </tr>
                        </thead>
                        <tbody id="usuariosTableBody">
                            <!-- Los datos se cargarán desde admin.js -->
                        </tbody>
                    </table>
                </div>
            </section>


            <!-- Membresías Section -->
            <section id="membresias" class="content-section">
            <div class="section-header">
                <h2>Gestión de Membresías</h2>
                <!-- Se eliminó el botón "Nueva Membresía" -->
            </div>
            
            <div class="table-container">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Usuario</th>
                            <th>Tipo</th>
                            <th>Instalación</th>
                            <th>Precio</th>
                            <th>Fecha Inicio</th>
                            <th>Fecha Fin</th>
                            <th>Estado</th>
                            <!-- Se eliminó la columna "Acciones" -->
                        </tr>
                    </thead>
                    <tbody id="membresiasTableBody">
                        <!-- Los datos se cargarán desde admin.js -->
                    </tbody>
                </table>
            </div>
        </section>

            <!-- Instalaciones Section -->
            <section id="instalaciones" class="content-section">
                <div class="section-header">
                    <h2>Gestión de Instalaciones</h2>
                    <button class="btn btn-primary">
                        <i class="fas fa-plus"></i>
                        Nueva Instalación
                    </button>
                </div>
                
                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Nombre</th>
                                <th>Dirección</th>
                                <th>Teléfono</th>
                                <th>Horario</th>
                                <th>Capacidad</th>
                                <th>Estado</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody id="instalacionesTableBody">
                            <!-- Los datos se cargarán desde admin.js -->
                        </tbody>
                    </table>
                </div>
            </section>


            <!-- Modal para Nueva/Editar Instalación -->
            <div id="modalInstalacion" class="modal">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3 id="modalInstalacionTitle">Nueva Instalación</h3>
                        <span class="close" onclick="cerrarModalInstalacion()">&times;</span>
                    </div>
                    <div class="modal-body">
                        <form id="formInstalacion">
                            <input type="hidden" id="instalacionId" value="">
                            
                            <div class="form-group">
                                <label for="instalacionNombre">Nombre de la Instalación:</label>
                                <input type="text" id="instalacionNombre" name="nombre" required>
                            </div>

                            <div class="form-group">
                                <label for="instalacionDireccion">Dirección:</label>
                                <input type="text" id="instalacionDireccion" name="direccion" required>
                            </div>

                            <div class="form-group">
                                <label for="instalacionCiudad">Ciudad:</label>
                                <input type="text" id="instalacionCiudad" name="ciudad" required>
                            </div>

                            <div class="form-group">
                                <label for="instalacionTelefono">Teléfono:</label>
                                <input type="tel" id="instalacionTelefono" name="telefono" required>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label for="instalacionHorarioApertura">Horario de Apertura:</label>
                                    <input type="time" id="instalacionHorarioApertura" name="horarioApertura" required>
                                </div>
                                <div class="form-group">
                                    <label for="instalacionHorarioCierre">Horario de Cierre:</label>
                                    <input type="time" id="instalacionHorarioCierre" name="horarioCierre" required>
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label for="instalacionMetrosCuadrados">Metros Cuadrados:</label>
                                    <input type="number" id="instalacionMetrosCuadrados" name="metrosCuadrados" min="1" required>
                                </div>
                                <div class="form-group">
                                    <label for="instalacionCapacidad">Capacidad (personas):</label>
                                    <input type="number" id="instalacionCapacidad" name="capacidad" min="1" required>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="instalacionEstado">Estado:</label>
                                <select id="instalacionEstado" name="estado" required>
                                    <option value="Activa">Activa</option>
                                    <option value="Inactiva">Inactiva</option>
                                    <option value="Mantenimiento">Mantenimiento</option>
                                </select>
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" onclick="cerrarModalInstalacion()">Cancelar</button>
                        <button type="button" class="btn btn-primary" onclick="guardarInstalacion()">Guardar</button>
                    </div>
                </div>
            </div>

            <!-- Modal de Confirmación para Eliminar -->
            <div id="modalConfirmacion" class="modal">
                <div class="modal-content modal-small">
                    <div class="modal-header">
                        <h3>Confirmar Eliminación</h3>
                        <span class="close" onclick="cerrarModalConfirmacion()">&times;</span>
                    </div>
                    <div class="modal-body">
                        <p id="mensajeConfirmacion">¿Estás seguro de que quieres eliminar esta instalación?</p>
                        <p class="warning-text">Esta acción no se puede deshacer.</p>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" onclick="cerrarModalConfirmacion()">Cancelar</button>
                        <button type="button" class="btn btn-danger" onclick="confirmarEliminacion()">Eliminar</button>
                    </div>
                </div>
            </div>





            <!-- Reportes Section -->
            <section id="reportes" class="content-section">
                <div class="section-header">
                    <h2>Reportes y Estadísticas</h2>
                </div>
                
                <div class="reports-grid">
                    <div class="report-card">
                        <h3>Resumen de Usuarios</h3>
                        <div class="report-stats" id="reportUsuarios">
                            <!-- Los datos se cargarán desde admin.js -->
                        </div>
                    </div>

                    <div class="report-card">
                        <h3>Ingresos por Membresía</h3>
                        <div class="report-stats" id="reportIngresos">
                            <!-- Los datos se cargarán desde admin.js -->
                        </div>
                    </div>

                    <div class="report-card">
                        <h3>Membresías Más Populares</h3>
                        <div class="popularity-list" id="reportPopularidad">
                            <!-- Los datos se cargarán desde admin.js -->
                        </div>
                    </div>

                    <div class="report-card">
                        <h3>Instalaciones</h3>
                        <div class="report-stats" id="reportInstalaciones">
                            <!-- Los datos se cargarán desde admin.js -->
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script src="admin.js"></script>
</body>
</html>